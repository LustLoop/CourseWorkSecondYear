//change type of product to enum

CREATE TABLE products (
	product_id SERIAL PRIMARY KEY,
	title VARCHAR ( 250 ) NOT NULL,
	price DECIMAL,
	energy_resource VARCHAR ( 250 ) NOT NULL,
	accuracy VARCHAR ( 250 ) NOT NULL,
	type
);

CREATE TABLE tool_types (
	tool_type_id SERIAL PRIMARY KEY,
	tool_type_title VARCHAR ( 50 ) UNIQUE NOT NULL
);

CREATE TABLE tools (
    tool_id SERIAL PRIMARY KEY,
	product_id INT REFERENCES products (product_id),
	tool_type_id INT REFERENCES tool_types (tool_type_id),
	consumable BOOLEAN,
	rechargeable BOOLEAN
);

CREATE TABLE worktable_types (
	worktable_type_id SERIAL PRIMARY KEY,
	worktable_type_title VARCHAR ( 50 ) UNIQUE NOT NULL
);

CREATE TABLE worktables (
	worktable_id SERIAL PRIMARY KEY,
    product_id INT REFERENCES products (product_id),
    worktable_type_id INT REFERENCES worktable_types (worktable_type_id),
    portable BOOLEAN
);

CREATE TABLE hydraulic_worktables (
	hydraulic_worktable_id SERIAL PRIMARY KEY,
	worktable_id INT REFERENCES worktables (worktable_id),
	electricity_consumes DECIMAL,
	time_consumes_for_one_unit DECIMAL
);

CREATE TABLE laser_worktables (
	laser_worktable_id SERIAL PRIMARY KEY,
    worktable_id INT REFERENCES worktables (worktable_id),
    electricity_consumes DECIMAL,
    cartridge_consumes DECIMAL,
    cartridge_usage_times INT,
    time_consumes_for_one_unit DECIMAL
);

CREATE TABLE plasmic_worktables (
	plasmic_worktable_id SERIAL PRIMARY KEY,
    worktable_id INT REFERENCES worktables (worktable_id),
    electricity_consumes DECIMAL,
    gas_consumes DECIMAL,
    time_consumes_for_one_unit DECIMAL
);

INSERT INTO worktable_types (worktable_type_title) VALUES
    ('HYDRAULIC'),
    ('LASER'),
    ('PLASMIC');


INSERT INTO tool_types (tool_type_title) VALUES
    ('HAND_TOOL'),
    ('MARKUP_TOOL'),
    ('MEASURING_TOOL'),
    ('OTHER');

SELECT tool_types.title
    FROM tool_types
    JOIN tools
    ON tool_types.tool_type_id = tools.tool_type_id;
    
    
SELECT DISTINCT ON (products.product_id) *
    FROM products 
    JOIN tools 
    ON products.product_id = 23
    JOIN tool_types 
    ON tool_types.tool_type_id = tools.tool_type_id;